<div>
    <span id="logo">OCTRA</span>
</div>
<div class="section">
    <div class="row">
        <div class="col-sm-2 col-md-3"></div>
        <div class="col-sm-8 col-md-6 panel panel-default" style="padding:40px;">
            <br/>
            <p *ngIf="!valid_platform" class="warning" [innerHTML]="'browser.invalid' | translate">
            </p>
            <p *ngIf="!valid_platform" class="warning">
                {{getValidBrowsers()}}
            </p>

            <p *ngIf="!apc.octra.responsive.enabled && !valid_size" class="warning">
                <b>Die Fensterbreite ist zu klein.</b> Bitte vergrößern Sie dieses Fenster bis die Meldung verschwindet.
            </p>
            <section>
                <h4>{{ 'login.online mode' | translate}}</h4>
                <div *ngIf="!apc.octra.login_enabled" id="login-disabled">
                    {{'login.online mode disabled' | translate}}
                </div>
                <form *ngIf="apc.octra.login_enabled" class="form-horizontal" (ngSubmit)="onSubmit(f)" #f="ngForm">
                    <fieldset>
                        <div>
                            <div class="form-group">
                                <input class="form-control" type="number" id="login-id"
                                       name="login-id"
                                       placeholder="Login ID" [(ngModel)]="member.id"
                                       required
                                       pattern="[0-9]+"
                                />
                                <!-- <div class="checkbox">
                                    <label>
                                        <input type="checkbox" id="agreement" name="agreement" [(ngModel)]="agreement_checked">
                                    </label> <span style="font-size:1.0em;">Ich habe die <span class="link" (click)="openAgreement();">Einverständniserklärung</span> gelesen und akzeptiert</span>
                                </div> -->
                            </div>
                            <div class="form-group">
                                <input class="form-control" type="submit" id="login-submit"
                                       class="btn btn-raised btn-primary"
                                       [disabled]="!f.valid"
                                       name="login-submit" value="{{'general.login' | translate}}"/>
                            </div>
                        </div>
                    </fieldset>
                </form>
                <br/>
            </section>
            <hr/>
            <section>
                <h4>{{'login.local mode' | translate}}</h4>
                <div>
                    <p class="bg-warning" *ngIf="sessionService.sessionfile != null"
                       [innerHTML]="'login.old file found' | translate:{file_label: getDropzoneFileString(sessionfile)}">
                    </p>
                    <app-drop-zone #dropzone>
                        <span *ngIf="dropzone.file == null">{{ "dropzone.drag&drop here" | translate }}</span>
                        <span *ngIf="dropzone.file != null && (getFileStatus() == 'start')"><span
                                class="text-success">{{ "dropzone.file selected" | translate:{file_label: getDropzoneFileString(dropzone.file)} }}</span></span>
                        <span *ngIf="dropzone.file != null && (getFileStatus() != 'start')"><span
                                class="text-danger">{{ "dropzone.file selected" | translate:{file_label: getDropzoneFileString(dropzone.file)} }}</span></span>
                    </app-drop-zone>
                    <input *ngIf="getFileStatus() != 'new'" [disabled]="!(getFileStatus() == 'start')" type="submit"
                           id="offline-submit"
                           class="btn btn-raised btn-primary" value="{{'general.start transcription' | translate}}"
                           (click)="onOfflineSubmit()"/>

                    <input *ngIf="getFileStatus() == 'new'" id="offline-delete-btn"
                           class="btn btn-raised btn-danger"
                           (click)="modService.show('transcription_delete', '', {ok: newTranscription})"
                           value="{{'general.start new transcription' |translate}}"/>
                </div>
            </section>
        </div>
        <div class="col-sm-2 col-md-3"></div>
    </div>
</div>