<modal #modal>
    <modal-header>
        <h4 class="modal-title">Anmeldung fehlgeschlagen</h4>
    </modal-header>
    <modal-body>
        Die Anmeldung konnte leider nicht durchgeführt werden. Es sind bei dieser ID keine freien Audiodateien
        verfügbar.
    </modal-body>
    <modal-footer>
        <button type="button" class="btn btn-primary" (click)="modal.dismiss()">OK</button>
    </modal-footer>
</modal>
<modal #modal_delete>
    <modal-header>
        <h4 class="modal-title">{{"modal.transcription.delete.header" | translate}}</h4>
    </modal-header>
    <modal-body>
        <div class="modal-content" [innerHTML]="'modal.transcription.delete.text' | translate"></div>
    </modal-body>
    <modal-footer>
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="modal_delete.dismiss()">Abbrechen
        </button>
        <button type="button" class="btn btn-danger" (click)="newTranscription()">Alte Transkription löschen</button>
    </modal-footer>
</modal>
<div>
    <span id="logo">OCTRA</span>
</div>
<div class="section">
    <div class="row">
        <div class="col-xs-1 col-sm-3 col-md-3"></div>
        <div class="col-xs-10 col-sm-6 col-md-6 panel panel-default" style="padding:40px;">
            <br/>
            <p *ngIf="!valid_platform" class="warning">
                <b>Dein Browser ist nicht kompatibel</b>. Lade dir bitte Chrome <a
                    href="https://www.google.de/chrome/browser/desktop/">hier</a> herunter. Öffne diese Seite in
                Chrome erneut.
            </p>

            <p *ngIf="!apc.RESPONSIVE && !valid_size" class="warning">
                <b>Die Fensterbreite ist zu klein.</b> Bitte vergrößern Sie dieses Fenster bis die Meldung verschwindet.
            </p>
            <section>
                <h4>{{ 'login.online mode' | translate}}</h4>
                <div *ngIf="!apc.LOGIN_ENABLED" id="login-disabled">
                    {{'login.online mode disabled' | translate}}
                </div>
                <form *ngIf="apc.LOGIN_ENABLED" class="form-horizontal" (ngSubmit)="onSubmit(f)" #f="ngForm">
                    <fieldset>
                        <div>
                            <div class="form-group">
                                <input class="form-control" type="number" disabled="disabled" id="login-id"
                                       name="login-id"
                                       placeholder="Login ID" [(ngModel)]="member.id"
                                       required
                                       pattern="[0-9]+"
                                />
                                <!-- <div class="checkbox">
                                    <label>
                                        <input type="checkbox" id="agreement" name="agreement" [(ngModel)]="agreement_checked">
                                    </label> <span style="font-size:1.0em;">Ich habe die <span class="link" (click)="openAgreement();">Einverständniserklärung</span> gelesen und akzeptiert</span>
                                </div> -->
                            </div>
                            <div class="form-group">
                                <input class="form-control" type="submit" id="login-submit"
                                       class="btn btn-raised btn-primary"
                                       [disabled]="true"
                                       name="login-submit" value="LOGIN DISABLED"/>
                            </div>
                        </div>
                    </fieldset>
                </form>
                <br/>
            </section>
            <hr/>
            <section>
                <h4>{{'login.local mode' | translate}}</h4>
                <div>
                    <p *ngIf="sessionService.sessionfile != null"
                       [innerHTML]="'login.old file found' | translate:{file_label: getDropzoneFileString(sessionfile)}">
                    </p>
                    <app-drop-zone #dropzone>
                        <span *ngIf="dropzone.file == null">{{ "dropzone.drag&drop here" | translate }}</span>
                        <span *ngIf="dropzone.file != null && (sessionfile == null || sessionfile.name == dropzone.file.name)"><span
                                class="text-success">{{ "dropzone.file selected" | translate:{file_label: getDropzoneFileString(dropzone.file)} }}</span></span>
                        <span *ngIf="dropzone.file != null && (sessionfile != null && sessionfile.name != dropzone.file.name)"><span
                                class="text-danger">{{ "dropzone.file selected" | translate:{file_label: getDropzoneFileString(dropzone.file)} }}</span></span>
                    </app-drop-zone>
                    <input *ngIf="getFileStatus() == 'start'" type="submit" id="offline-submit"
                           class="btn btn-raised btn-primary" value="Transkription starten"
                           (click)="onOfflineSubmit()"/>

                    <input *ngIf="getFileStatus() == 'new'" id="offline-delete-btn"
                           class="btn btn-raised btn-danger" (click)="modal_delete.open()"
                           value="Neue Transkription beginnen"/>
                </div>
            </section>
        </div>
        <div class="col-xs-1 col-sm-3 col-md-3"></div>
    </div>
</div>